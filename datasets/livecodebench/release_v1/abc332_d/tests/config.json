{
  "question_title": "Swapping Puzzle",
  "question_content": "You are given two grids, A and B, each with H rows and W columns.\nFor each pair of integers (i, j) satisfying 1 \\leq i \\leq H and 1 \\leq j \\leq W, let (i, j) denote the cell in the i-th row and j-th column. In grid A, cell (i, j) contains the integer A_{i, j}. In grid B, cell (i, j) contains the integer B_{i, j}.\nYou will repeat the following operation any number of times, possibly zero. In each operation, you perform one of the following:\n\n- Choose an integer i satisfying 1 \\leq i \\leq H-1 and swap the i-th and (i+1)-th rows in grid A.\n- Choose an integer i satisfying 1 \\leq i \\leq W-1 and swap the i-th and (i+1)-th columns in grid A.\n\nDetermine whether it is possible to make grid A identical to grid B by repeating the above operation. If it is possible, print the minimum number of operations required to do so.\nHere, grid A is identical to grid B if and only if, for all pairs of integers (i, j) satisfying 1 \\leq i \\leq H and 1 \\leq j \\leq W, the integer written in cell (i, j) of grid A is equal to the integer written in cell (i, j) of grid B.\n\nInput\n\nThe input is given from Standard Input in the following format:\nH W\nA_{1, 1} A_{1, 2} \\cdots A_{1, W}\nA_{2, 1} A_{2, 2} \\cdots A_{2, W}\n\\vdots\nA_{H, 1} A_{H, 2} \\cdots A_{H, W}\nB_{1, 1} B_{1, 2} \\cdots B_{1, W}\nB_{2, 1} B_{2, 2} \\cdots B_{2, W}\n\\vdots\nB_{H, 1} B_{H, 2} \\cdots B_{H, W}\n\nOutput\n\nIf it is impossible to make grid A identical to grid B, output -1. Otherwise, print the minimum number of operations required to make grid A identical to grid B.\n\nConstraints\n\n\n- All input values are integers.\n- 2 \\leq H, W \\leq 5\n- 1 \\leq A_{i, j}, B_{i, j} \\leq 10^9\n\nSample Input 1\n\n4 5\n1 2 3 4 5\n6 7 8 9 10\n11 12 13 14 15\n16 17 18 19 20\n1 3 2 5 4\n11 13 12 15 14\n6 8 7 10 9\n16 18 17 20 19\n\nSample Output 1\n\n3\n\nSwapping the fourth and fifth columns of the initial grid A yields the following grid:\n1 2 3 5 4\n6 7 8 10 9\n11 12 13 15 14\n16 17 18 20 19\n\nThen, swapping the second and third rows yields the following grid:\n1 2 3 5 4\n11 12 13 15 14\n6 7 8 10 9\n16 17 18 20 19\n\nFinally, swapping the second and third columns yields the following grid, which is identical to grid B:\n1 3 2 5 4\n11 13 12 15 14\n6 8 7 10 9\n16 18 17 20 19\n\nYou can make grid A identical to grid B with the three operations above and cannot do so with fewer operations, so print 3.\n\nSample Input 2\n\n2 2\n1 1\n1 1\n1 1\n1 1000000000\n\nSample Output 2\n\n-1\n\nThere is no way to perform the operation to make grid A match grid B, so print -1.\n\nSample Input 3\n\n3 3\n8 1 6\n3 5 7\n4 9 2\n8 1 6\n3 5 7\n4 9 2\n\nSample Output 3\n\n0\n\nGrid A is already identical to grid B at the beginning.\n\nSample Input 4\n\n5 5\n710511029 136397527 763027379 644706927 447672230\n979861204 57882493 442931589 951053644 152300688\n43971370 126515475 962139996 541282303 834022578\n312523039 506696497 664922712 414720753 304621362\n325269832 191410838 286751784 732741849 806602693\n806602693 732741849 286751784 191410838 325269832\n304621362 414720753 664922712 506696497 312523039\n834022578 541282303 962139996 126515475 43971370\n152300688 951053644 442931589 57882493 979861204\n447672230 644706927 763027379 136397527 710511029\n\nSample Output 4\n\n20",
  "platform": "atcoder",
  "question_id": "abc332_d",
  "contest_id": "abc332",
  "contest_date": "2023-12-10T00:00:00",
  "starter_code": "",
  "difficulty": "hard",
  "public_test_cases": "[{\"input\": \"4 5\\n1 2 3 4 5\\n6 7 8 9 10\\n11 12 13 14 15\\n16 17 18 19 20\\n1 3 2 5 4\\n11 13 12 15 14\\n6 8 7 10 9\\n16 18 17 20 19\\n\", \"output\": \"3\\n\", \"testtype\": \"stdin\"}, {\"input\": \"2 2\\n1 1\\n1 1\\n1 1\\n1 1000000000\\n\", \"output\": \"-1\\n\", \"testtype\": \"stdin\"}, {\"input\": \"3 3\\n8 1 6\\n3 5 7\\n4 9 2\\n8 1 6\\n3 5 7\\n4 9 2\\n\", \"output\": \"0\\n\", \"testtype\": \"stdin\"}, {\"input\": \"5 5\\n710511029 136397527 763027379 644706927 447672230\\n979861204 57882493 442931589 951053644 152300688\\n43971370 126515475 962139996 541282303 834022578\\n312523039 506696497 664922712 414720753 304621362\\n325269832 191410838 286751784 732741849 806602693\\n806602693 732741849 286751784 191410838 325269832\\n304621362 414720753 664922712 506696497 312523039\\n834022578 541282303 962139996 126515475 43971370\\n152300688 951053644 442931589 57882493 979861204\\n447672230 644706927 763027379 136397527 710511029\\n\", \"output\": \"20\\n\", \"testtype\": \"stdin\"}]",
  "private_test_cases": "eJzNVruOU0EMpaDlH0apAfk5Y/MlSIQOCpqARLZACImPgD+lo+FM2Nw7i4Ykmy1gi5UzM7aPj31tf338/eeTR4e/lz8gvPq8ebf7cLPfvCgbKbLdSeHtjrvEy8/N07J5f7O/fXZ7sH/7cb//9OFtP/q4f/Nut/nytJyxdvh319qze5lzE4rkLIv04MO7cOgeaCxTlDSpaAsmyLHdZUiLUPJiTmpmisNoVZSVoxhzo6aCqKurV9WqxZNamItfT47CCbcalYnKROoYiFKcWxmk6fWqfTw7a/wubLkMtR5IbFIb7BBy0oiZqYeijT3FUD4UEgKitrsmAca9MfiSdHMFLm8GPpujslI4NRgvuYW6N60l1LQKk2132tSEJYrASs99XMu2ddypxslscBwVaJuglpgQC9B40XRVYMPLIK4sqVIAiQ/YUIpVyKWhIgQ2aq2pfzmc2px6nzq6G6JdWk/e67NqBOq7XCj9xypXfeTeWUD9i1qwF04XQk1SyXDQ3EjKeusozpbRnc2up2YayjzVs9c2OZO7jraP16vtsryDSjZUPlpHqYYuhKc+KA8Gj55RSovr9Xo1M7kdVU4rj8Am1zOIU2CnuRsYO0PtYmbIy4TGKd1DLH9MvgsbxKFwTOAJLd8KPlNjwOKptLwDDaeuZ9Lo5bS/i71MVU57mZxdDmxQOR30mVgu9HdVLFfk5QGFgxYfvZUrGhjGq1jFTBaJcE6MnopyJ8Ocbg5vGGYYB4s4XK/Kq4TyJ8Wm0gf6YhHLB2PqGE2lwcvM9mJx8IzvyUzA0hjLCnE9W6UB2IPCnyn/w/AnaM+Ff91K8rtwVLI5NslSiREbh6IlCsF61qLhgSaJxTSaK2Vm9PWppgeaZsHCUCsaKa6TsDGp9mqvCYB9yxBuaZroombQdbMofVvh1ruoVixwaK/YhM0Dey33ftoqvhXHx+AwDFMN61xg28PSiJ2X0HQrc4cjGYddBnpgI7sXxIHZLdQz0Az7GmXBKkfcFx+ME7cwhAVgVGtHB7KP4nC9qqxmFtNg7OhwALECG8AeA8DcOYY1hLqGv1Ky0NSB3ZI3EDrkZSF+SUbfxm9TNKZtycua3iXl9yic19+e/wI0Gyzu",
  "metadata": "{}"
}